
from numpy.random import rand 
from numpy.random import choice 
from numpy import asarray 
from numpy import clip 
from numpy import argmin 
from numpy import min 
from numpy import around 
from numpy.random import rand, randint
import random
import numpy as np
import csv
import math
from matplotlib import pyplot as plt

plt.rcParams['font.family'] = 'serif'
plt.rcParams['font.serif'] = ['Times New Roman'] + plt.rcParams['font.serif']
plt.rcParams.update({'font.size': 12})


dm = 60 # number of devices
td = 5  # number of tasks for each device 
tm = dm*td # number of total task
bits = tm #number of bits for each variable
num_edge_nodes= 25
tot_frag= num_edge_nodes+2

# define population size 
pop_size = 100 

# define lower and upper bounds for every dimension 
bounds = [(0,1) for _ in range(tm)]

# define scale factor for mutation 
F = 0.5 

# define crossover rate for recombination 
cr = 0.8 

# define number of iterations 
iter = 2000

# define fitness function 

def obj(x): 
    a=0.5
    b=0.5
    tot_latency_loc = 0
    tot_latency_edge = 0
    tot_latency_cloud = 0
    off_cl=0
    off_e=0
    trans_e = 0
    trans_cl = 0
    bw_local = 0
    bw_edge = 0
    bw_cloud = 0
    latency_cloud =[]
    latency_edge = []
    solution_sort =[]
    l= len(x)    
    def split_equal(value, parts):
        value = float(value)
        return [i*value/parts for i in range(1,parts+1)]

    solution_sort =  np.round(split_equal(1, tot_frag),2)

    for i in range(l): 
        if x[i] <= solution_sort[0] : #local execution  #300 tasks

            data_loc = np.array([0.39,1.65,2.91,1.97,0.8,0.5,1.12,2.06,2.84,0.95,1.36,0.39,2.13,1.89
                                ,0.42,2.69,0.22,2.93,1.08,0.82,0.23,2.31,1.66,1.48,2.45,1.49,0.49,2.46
                                ,1.81,0.90,2.03,0.23,1.96,1.82,1.46,1.12,2.06,1.07,0.88,2.26,2.21,1.99
                                ,0.63,0.29,2.52,0.41,2.99,2.44,2.11,1.12,1.77,0.94,1.01,1.04,1.89,0.53
                                ,1.72,1.61,2.69,1.35,0.5,1.26,0.73,2.04,0.73,1.81,2.94,0.54,1.1,1.93
                                ,0.85,0.92,0.45,2.59,1.65,0.76,1.06,1.87,0.4,1.59,1.27,2.19,0.78,0.43
                                ,0.37,1.73,0.23,0.56,0.48,1.29,1.03,2.36,1.03,1.47,1.15,2.82,1.02,0.26
                                ,0.30,0.77,1.81,3.04,2.58,2.70,0.34,2.1,1.67,2.43,1.78,2.79,2.69,2.94
                                ,2.08,0.30,2.69,0.33,2.66,1.53,2.74,2.42,1.19,0.38,1.96,0.68,0.9,1.4
                                ,1.01,2.08,1.32,1.72,2.52,1.75,0.54,1.39,1.96,0.33,0.81,2.46,2.36,0.3
                                ,1.43,1.73,0.37,0.86,1.35,0.85,1.17,2.99,0.29,2.64,1.27,2.78,1.98,2.58
                                ,2.92,1.67,2.86,0.47,2.88,1.96,0.95,1.28,2.88,1.72,0.69,0.42,1.63,2.88
                                ,1.11,2.92,1.59,0.32,1.21,2.91,1.91,1.58,1.73,2.92,1.27,2.73,2.5,0.73
                                ,1.11,1.10,2.43,1.08,2.56,1.28,2.02,2.77,2.18,1.02,0.73,0.79,2.96,0.2
                                ,1.91,0.64,1.27,0.83,0.72,1.39,1.36,2.07,0.94,2.77,1.56,1.72,0.45,2.41
                                ,0.99,1.68,1.7,0.53,2.05,1.79,1.46,2.34,1.59,0.24,2.25,2.17,2.06,1.34
                                ,1.21,1.14,1.43,2.93,0.33,0.94,2.96,1.82,0.42,2.97,1.01,1.83,0.72,2.74
                                ,2.29,0.85,1.67,0.68,1.91,2.12,1.66,1.05,2.61,1.53,0.98,2.93,0.30,0.77
                                ,1.31,0.04,2.52,2.17,0.54,2.1,1.87,2.43,1.78,1.79,2.69,0.94,1.48,0.05
                                ,1.69,0.33,1.66,1.53,2.74,1.43,1.19,0.38,0.96,1.68,0.9,2.4,0.91,1.08
                                ,2.32,0.72,0.52,1.75,0.54,0.59,1.76,1.43,0.81,0.66,1.36,1.3,0.43,0.73
                                ,1.33,0.86,0.35,0.85,1.17,2.07])                                                                        # np.random.uniform(0.2,3,300)

            comp_cap = np.array([2311.4,2438.86,1243.77,2299.04,2713.93,1413.3,2145.75,1850.21,1626.37,2754.18,1165.47,1949.65,1888.99,1936.53,
                                 2382.13,2572.64,1236.49,2492.07,2131.3,1577.05,1379.59,2062.52,2726.92,2779.64,2071.64,2542.45,2064.21,1877.13,
                                 2336.49,1784.5,1290.5,1869.04,1075.44,1502.09,1679.72,2971.06,2239.97,2889.02,1191.57,2328.51,1168.7,1472.72,1535.96,
                                 1229.02,1858.69,2247.64,2618.6,1745.39,1596.72,1782.98,1751.39,2025.78,2776.75,2744.78,2399.59,1177.37,1785.48,1437.78,
                                 2812.35,1466.72,2963.91,2918.03,2326,2388.23,1737.46,2371.32,2889.29,2610.87,1135.32,2215.39,2818.25,1146.15,2670.04,
                                 2012.78,1384.38,1030.68,2680.61,1654.09,1075.52,1202.08,1369.23,2769.92,1586.24,2855.28,2955.93,1589.25,1707.56,2292.38,
                                 2678.25,1369.65,2893.18,1507.42,2690.87,2190.43,2030.27,2378.21,2335.8,1770.11,2940.02,2972.58,1907.66,2035.68,1960.44,
                                 1062.39,1031.12,2904.91,2959.75,2943.49,1030.09,2708.7,1355.74,2116.11,1567.1,2135.18,2213.29,1173.36,1544.21,1712.47,
                                 2713.71,2021.58,2400.42,1325.12,1091.81,2094.99,1229.38,2582.46,2595.93,2751.76,2222.7,1311.42,1464.69,2331.21,1771.82,
                                 1658.23,1267.14,1059.8,1063.67,1115.44,2465.29,2676.39,2705.37,1774.63,2931.24,2111.74,1895.81,2299.13,2803.29,2717.31,
                                 2778.55,1257.81,2763.51,2409.28,2911.83,2993.95,1627.48,2972.55,2182.72,2835.5,2217.75,1140.5,2759.48,2151.99,2339.45,
                                 1949.66,2181.55,1950.51,2970.47,2482.55,1504.95,2235.8,1892.01,1700.33,2872.99,2741.71,2258.67,2599.48,1024.19,1464.69,
                                 2758.93,1666.21,1836.15,2659.13,1457.34,1406.55,1039.12,1779.84,2684.68,2645.15,2842.68,1790.19,2895.74,2514.73,2476.45,
                                 1555.26,2509.28,2523.55,2872.78,1140.71,1865.35,1683.46,1462.94,1494.3,2225.49,1441.64,2573.43,2838.93,1810.31,1612.17,
                                 2491.3,2014.71,2407.03,1055.49,1489.84,1124.91,1060.51,2757.14,1510.55,1672.21,1866.66,2145.79,2913.53,1584.22,1224.81,
                                 2853.58,1208.83,1492.08,2788.15,2517.09,1373.34,2762.86,1057.25,1786.75,2289.45,2983.08,2522.3,1095.74,1393.37,1860.05,
                                 1296.13,2819.46,2113.9,2755.72,1760.88,2414.12,1848.34,1184.24,1873.24,2003.83,1794.41,2814.64,2608.15,1319.62,2593.18,
                                 1207.42,2490.87,2590.43,2036.27,2878.11,2335.8,1470.21,2540.12,2572.48,1307.76,2535.28,1762.34,1863.67,1045.44,1829.8,
                                 1263.39,1051.02,2454.91,2639.75,2843.49,1340.09,2568.7,1955.74,2187.11,1567.1,2197.18,2216.29,1143.36,1642.21,1702.47,
                                 2263.71,2461.58,2445.42,1235.12,1251.81,2874.99,1267.38,2578.46,2785.93,2461.76,2142.7,1091.42,1944.69,2781.21,1031.82,
                                 1878.23,1677.14])                                                                                                                # np.random.uniform(1000,3000,300)

            arr_rate = np.array([1453.18,1486.04,1157.76,1348.54,1147.59,1197.49,1292.52,1435.15,1411.61,1412.33,1340.92,1113.82,1121.82,
                                 1489.23,1245.32,1265.4,1164.74,1388.04,1426.95,1296.37,1334.95,1443.25,1100.16,1267.31,1306.17,1321.79,1143.04,
                                 1452.95,1129.16,1375.45,1208.71,1470.37,1482.02,1365.45,1382.15,1348.07,1460.19,1343.43,1120.13,1279.07,1393.34,
                                 1309.5,1189.73,1188.02,1396.52,1478.04,1168.45,1479.6,1301.27,1345.61,1121.1,1294.18,1421.77,1102.85,1229.39,1114.85,
                                 1245.03,1424.3,1321.02,1140.49,1290.38,1298.19,1142.13,1169.01,1306.8,1157.25,1188.49,1491.36,1413.66,1458,1229.6,
                                 1424.81,1327.48,1161.39,1498.72,1130.99,1175.25,1473.11,1288.88,1464.68,1259.86,1495.23,1486.33,1274.83,1108.09,1406.71,
                                 1187.74,1373.84,1380.54,1106.72,1293.83,1251.28,1127.39,1466.95,1388.56,1419.61,1220.95,1415.24,1478.2,1212.67,1125.78,
                                 1474.95,1282.1,1450.62,1223.23,1269.9,1117.47,1317.57,1491.16,1197.48,1187.63,1496.93,1109.24,1483.86,1262.79,1485.11,
                                 1228.35,1118.83,1119.84,1476.32,1100.02,1409.39,1103.9,1197.22,1351.85,1255.15,1192.65,1407.01,1372.33,1283.36,1346.14,
                                 1129.8,1324.79,1174.61,1194.43,1192.93,1125.57,1341.8,1300.1,1342.81,1104.45,1363.78,1412.22,1248.06,1195.85,1474.15,
                                 1182.7,1225.9,1117.01,1327.93,1229.89,1406.63,1365.01,1491.61,1194.75,1380.58,1133.02,1258.85,1420.33,1414.68,1269.56,
                                 1132.11,1470.38,1126.34,1309.16,1211.08,1367.25,1237.98,1492.75,1331,1323.89,1328.92,1388.05,1180.84,1137.29,1336.05,
                                 1418.49,1133.79,1202.23,1182.24,1162.07,1186.87,1203.6,1260.84,1256.16,1124.53,1419.66,1301.78,1235.99,1445.85,1424.83,
                                 1353.51,1180.44,1287.4,1142.6,1239,1418.35,1387.63,1385.47,1276.37,1393.02,1201.91,1279.75,1124.33,1281.12,1199.31,
                                 1224.62,1118.98,1416.74,1311.96,1331.97,1194.33,1470.8,1331.45,1390.83,1443.21,1138.42,1114.02,1160.03,1103.25,1326.34,
                                 1191.99,1186.73,1107.68,1314.94,1300.8,1234.51,1304.1,1166.23,1166.06,1238.36,1202.78,1231.12,1326.63,1306.51,1480.92,1270.31,
                                 1137.87,1165.71,1476.37,1403.72,1431.95,1116.53,1370.89,1346.24,1286.38,1287.09,1247.02,1220.47,1164.4,1182.7,1225.9,1117.01,1327.93,
                                 1229.89,1406.63,1365.01,1491.61,1194.75,1380.58,1133.02,1258.85,1420.33,1414.68,1269.56,1245.51,1034.44,1577.4,1252.6,1137,
                                 1132.11,1470.38,1126.34,1309.16,1211.08,1367.25,1237.98,1492.75,1331,1323.89,1328.92,1388.05,1180.84,1137.29,1336.05,
                                 1418.49,1133.79,1022.23,1812.24,1612.07,1576.87,1563.6,1350.64,1376.16,1824.53,1349.65,1061.78,1325.99,1345.85,1156.83])               # np.random.uniform(1100,1500,300)


            bw_l = np.array([0.001,0.004,0.004,0.003,0.004,0.005,0.004,0.004,0.002,0.003,0.005,0.001,0.005,0.001,0.004,0.003,0.003,0.002,0.003,0.004,0.002,
                             0.002,0.004,0.003,0.004,0.002,0.001,0.001,0.005,0.002,0.003,0.003,0.005,0.002,0.001,0.004,0.002,0.004,0.002,0.003,0.002,0.002,
                             0.002,0.005,0.002,0.004,0.003,0.004,0.001,0.002,0.004,0.002,0.003,0.005,0.002,0.005,0.003,0.004,0.005,0.004,0.001,0.002,0.002,
                             0.002,0.005,0.002,0.002,0.002,0.003,0.003,0.003,0.002,0.001,0.003,0.005,0.002,0.003,0.005,0.001,0.004,0.005,0.002,0.002,0.004,
                             0.004,0.003,0.005,0.002,0.003,0.005,0.003,0.003,0.003,0.004,0.004,0.003,0.003,0.003,0.002,0.002,0.005,0.004,0.003,0.002,0.003,
                             0.001,0.002,0.004,0.004,0.004,0.003,0.002,0.005,0.002,0.002,0.003,0.004,0.002,0.004,0.005,0.005,0.004,0.003,0.004,0.001,0.004,
                             0.005,0.005,0.004,0.003,0.005,0.004,0.003,0.003,0.002,0.002,0.003,0.002,0.003,0.002,0.005,0.003,0.002,0.003,0.001,0.003,0.004,
                             0.002,0.005,0.003,0.001,0.002,0.002,0.004,0.003,0.001,0.003,0.002,0.001,0.005,0.003,0.005,0.004,0.001,0.004,0.005,0.002,0.004,
                             0.005,0.002,0.002,0.004,0.004,0.003,0.003,0.003,0.002,0.002,0.002,0.004,0.003,0.001,0.003,0.004,0.004,0.005,0.002,0.004,0.004,
                             0.001,0.002,0.002,0.004,0.004,0.001,0.002,0.003,0.005,0.002,0.001,0.003,0.001,0.003,0.001,0.004,0.004,0.003,0.003,0.002,0.003,
                             0.004,0.003,0.004,0.003,0.001,0.001,0.003,0.004,0.001,0.004,0.005,0.003,0.005,0.005,0.004,0.002,0.001,0.005,0.004,0.004,0.005,
                             0.004,0.003,0.003,0.001,0.002,0.001,0.001,0.002,0.003,0.004,0.002,0.004,0.002,0.003,0.005,0.002,0.004,0.004,0.003,0.005,0.002,
                             0.003,0.001,0.004,0.005,0.002,0.005,0.002,0.004,0.002,0.001,0.002,0.001,0.004,0.005,0.004,0.005,0.003,0.003,0.005,0.001,0.004,
                             0.003,0.001,0.003,0.001,0.001,0.004,0.004,0.005,0.001,0.003,0.003,0.003,0.005,0.002,0.001,0.003,0.002,0.002,0.002,0.002,0.003,0.003,0.005,0.003,0.004,0.001,0.003])                             # np.random.uniform(0.001,0.005,300) 


            exe_rate = np.array([918.74,985.48,941.31,915.22,979.83,972.45,902.62,960.23,976.28,939.49,944.84,957.11,956.45,971.62,999.41,981.46,909.51,920.22,
                                 982.73,954.02,925.46,983.26,900.11,922.07,966.46,960.82,996.2,966.1,964.51,916.81,980.54,915.67,972.71,989.68,951.74,921.97,
                                 963.29,952.09,989.26,924.11,950.39,926.7,940.61,988.53,905.76,907.68,933.46,946.08,938.06,948.59,910.,966.31,919.95,908.65,
                                 910.29,949.16,998.13,983.23,932.68,998.12,907.77,904.26,969.9,916.8,909.38,983.94,976.3,946.56,909.09,923.96,914.17,974.03,
                                 915.09,955.88,973.41,944.73,901.52,940.47,908.94,910.3,911.65,901.76,946.74,930.74,953.79,944.31,986.83,993.09,900.19,906.26,
                                 954.13,900.39,959.45,911.72,924.77,968.14,963.26,965.59,956.32,996.41,938.68,998.65,946.43,980.15,904.86,982.51,901.5,901.92,
                                 943.82,974.75,918.17,946.57,903.9,961.51,988.92,913.5,946.03,990.5,991.84,956.39,935.33,914.42,933.21,903.1,977.2,919.22,982.52,
                                 992.65,934.09,990.69,950.89,905.82,980.43,917.93,976.17,991.55,934.31,916.49,974.85,915.17,911.2,964.52,930.97,992.89,995.66,
                                 995.38,912.38,970.81,931.09,961.28,953.7,928.2,922.1,955.28,916.95,966.86,981.15,986.13,925.,930.83,903.81,988.23,912.14,912.45,
                                 972.68,959.68,926.66,903.86,972.76,992.84,944.24,976.47,926.48,971.6,990.88,932.4,978.63,907.45,923.57,945.22,979.74,910.58,907.79,
                                 974.87,906.89,953.84,938.7,972.25,978.52,920.04,930.47,917.27,937.21,907.25,969.84,981.19,959.03,993.33,959.95,950.91,966.45,959.23,
                                 914.66,981.76,990.2,961.55,991.04,936.71,907.1,996.95,932.78,978.64,965.55,985.16,981.29,979.95,983.53,915.46,936.68,903.06,908.06,
                                 919.92,932.96,971.97,976.63,905.77,966.09,937.57,984.72,971.54,933.48,999.82,928.55,927.39,977.8,981.8,949.93,902.81,977.36,924.62,
                                 960.4,992.52,987.14,948.37,966.94,957.68,905.14,949.23,957.15,921.93,998.7,959.97,905.35,943.23,939.62,971.94,951.75,969.14,958.67,
                                 942.04,905.41,954.03,991.93,927.63,932.57,968.24,974.87,994.62,958.63,995.19,928.98,978.9,946.84,993.26,956.33,928.91,930.34,935.23,
                                 966.28,947.36,983.72,906.5,967.69,998.72,970.3,945.95,956.9,944.18,990.61,995.05,930.77,928.85,968.79,996.91,954.59,969.11,950.45,900.96,967.73,916.47])                           # np.round(np.random.uniform(900,1000,300),2) 
            
            local_exe = data_loc[i] / comp_cap[i]            
            local_wait = abs(data_loc[i] /(arr_rate[i]-exe_rate[i]))                
            bw_loc = bw_l[i]
            tot_latency_loc = tot_latency_loc + local_exe +local_wait
            bw_local = bw_local + bw_loc  


    for i in range(l):
        if x[i] > solution_sort[0] and x[i] <= solution_sort[1] : #cloud execution #300 tasks Cloud 
         
            raw_data_cloud = np.array([0.39,1.65,2.91,1.97,0.8,0.5,1.12,2.06,2.84,0.95,1.36,0.39,2.13,1.89
                                ,0.42,2.69,0.22,2.93,1.08,0.82,0.23,2.31,1.66,1.48,2.45,1.49,0.49,2.46
                                ,1.81,0.90,2.03,0.23,1.96,1.82,1.46,1.12,2.06,1.07,0.88,2.26,2.21,1.99
                                ,0.63,0.29,2.52,0.41,2.99,2.44,2.11,1.12,1.77,0.94,1.01,1.04,1.89,0.53
                                ,1.72,1.61,2.69,1.35,0.5,1.26,0.73,2.04,0.73,1.81,2.94,0.54,1.1,1.93
                                ,0.85,0.92,0.45,2.59,1.65,0.76,1.06,1.87,0.4,1.59,1.27,2.19,0.78,0.43
                                ,0.37,1.73,0.23,0.56,0.48,1.29,1.03,2.36,1.03,1.47,1.15,2.82,1.02,0.26
                                ,0.30,0.77,1.81,3.04,2.58,2.70,0.34,2.1,1.67,2.43,1.78,2.79,2.69,2.94
                                ,2.08,0.30,2.69,0.33,2.66,1.53,2.74,2.42,1.19,0.38,1.96,0.68,0.9,1.4
                                ,1.01,2.08,1.32,1.72,2.52,1.75,0.54,1.39,1.96,0.33,0.81,2.46,2.36,0.3
                                ,1.43,1.73,0.37,0.86,1.35,0.85,1.17,2.99,0.29,2.64,1.27,2.78,1.98,2.58
                                ,2.92,1.67,2.86,0.47,2.88,1.96,0.95,1.28,2.88,1.72,0.69,0.42,1.63,2.88
                                ,1.11,2.92,1.59,0.32,1.21,2.91,1.91,1.58,1.73,2.92,1.27,2.73,2.5,0.73
                                ,1.11,1.10,2.43,1.08,2.56,1.28,2.02,2.77,2.18,1.02,0.73,0.79,2.96,0.2
                                ,1.91,0.64,1.27,0.83,0.72,1.39,1.36,2.07,0.94,2.77,1.56,1.72,0.45,2.41
                                ,0.99,1.68,1.7,0.53,2.05,1.79,1.46,2.34,1.59,0.24,2.25,2.17,2.06,1.34
                                ,1.21,1.14,1.43,2.93,0.33,0.94,2.96,1.82,0.42,2.97,1.01,1.83,0.72,2.74
                                ,2.29,0.85,1.67,0.68,1.91,2.12,1.66,1.05,2.61,1.53,0.98,2.93,0.30,0.77
                                ,1.31,0.04,2.52,2.17,0.54,2.1,1.87,2.43,1.78,1.79,2.69,0.94,1.48,0.05
                                ,1.69,0.33,1.66,1.53,2.74,1.43,1.19,0.38,0.96,1.68,0.9,2.4,0.91,1.08
                                ,2.32,0.72,0.52,1.75,0.54,0.59,1.76,1.43,0.81,0.66,1.36,1.3,0.43,0.73
                                ,1.33,0.86,0.35,0.85,1.17,2.07])                                                                  # np.random.uniform(0.2,3,300)
                                                                                                                                                                                                     
            computed_data_cloud = np.array([0.76,0.22,0.45,0.13,0.29,0.35,0.17,0.94,0.33,0.77,0.91,0.35,0.39,0.33,0.73,0.82,0.35,0.86,0.89,0.79,0.07,0.19,0.35,0.24,0.93,0.67,0.12,0.5,0.84,0.94,
                                           0.88,0.56,0.75,0.73,0.55,0.8,0.56,0.58,0.79,0.62,0.25,0.75,0.12,0.2,0.29,0.67,0.75,0.54,0.84,0.35,0.59,0.94,0.07,0.16,0.26,0.3,0.3,0.46,0.69,0.23,0.69,
                                           0.85,0.38,0.79,0.45,1,0.9,0.11,0.81,0.78,0.11,0.06,0.07,0.7,0.57,0.17,0.89,0.21,0.02,0.48,0.26,0.22,0.41,0.03,0.03,0.6,0.4,0.95,0.89,0.68,0.92,0.63,0.51,
                                           0.59,0.84,0.23,0.7,0.51,0.41,0.7,0.71,0.91,0.39,0.53,0.48,0.51,0.34,0.71,0.24,0.45,0.98,0.06,0.69,0.48,0.59,0.92,0.06,0.22,0.28,0.93,0.62,0.27,0.94,0.68,
                                           0.84,0.81,0.34,0.04,0.17,0.93,0.39,0.65,0.13,0.29,0.72,0.9,0.97,0.66,0.04,0.42,0.88,0.58,0.18,0.38,0.37,0.59,0.22,0.11,0.79,0.21,0.83,0.46,0.33,0.33,0.83,
                                           0.95,0.65,0.33,0.42,0.4,0.86,0.21,0.86,0.11,0.19,0.14,0.18,0.08,0.67,0.56,0.89,0.5,0.68,0.14,0.96,0.03,0.69,0.96,0.02,0.58,0.59,0.1,0.56,0.62,0.59,0.35,0.72,
                                           0.16,0.25,0.73,0.96,0.74,0.42,0.67,0.32,0.33,0.95,0.39,0.2,0.84,0.04,0.57,0.84,0.29,0.41,0.39,0.43,0.59,0.02,1,0.38,0.38,0.09,0.36,0.2,0.02,0.12,0.32,0.71,
                                           0.48,0.57,0.81,0.41,0.23,0.74,0.61,0.43,0.11,0.7,0.83,0.32,0.16,0.84,0.34,0.61,0.51,0.29,0.24,0.14,0.29,0.83,0.64,0.28,0.6,0.92,0.85,0.9,0.79,0.22,0.22,0.28,
                                           0.93,0.14,0.2,0.38,0.15,0.82,0.82,0.51,0.74,0.11,0.97,0.97,0.45,0.42,0.59,0.75,0.19,0.06,0.63,0.51,0.56,0.43,0.74,0.83,0.6,0.67,0.13,0.18,0.67,0.5,0.48,0.13,
                                           0.49,0.33,0.06,0.47,0.88,0.89,0.78,0.23,0.42,0.69,0.64,0.51,0.46,0.99,0.62,0.67,0.24])        # np.random.uniform(0.02,1,300)


            comp_cap_cloud = np.array([17645.36,15311.38,17716.81,15277.66,16806.33,17854.76,12240.97,13583.71,15254.22,13724.52,17890.58,13816.75,14162.81,15714.14,12140.06,
                                       13609.91,14615.73,14536.91,17627.24,12009.26,17655.46,16286.19,15203,15963.37,14601.06,14839.91,16613.77,16143.86,14651.53,14045.01,13560.29,
                                       14186.36,12168.93,14351.99,17447.53,14931.84,16202.32,17651.25,13274.93,13735.78,16707.08,17995.95,15587.35,14004.33,12795.74,12471.32,17532.69,
                                       17056.59,13992.58,17130.56,17854.26,17735.66,12177.91,12917.34,17441.34,16034.22,16271.54,14507.24,16281.98,13461.82,16015.2,13752.4,15100.67,
                                       13428.33,13910.49,16208.62,16634.61,12922.44,17147.62,17865.9,12594.74,17585.6,17202.97,16525.81,14512.33,15669.04,12382.14,16977.78,12818.1,
                                       15438.34,13610.54,16123.15,12460.19,13480.47,12014.41,17907.45,14585.25,15938.89,12735.31,17890.67,12546.16,12755.87,13564.36,16738.03,17486.45,
                                       15548.18,15874.26,17793.34,16161.1,15068.1,15654.64,14750.98,13808.53,17110.04,15382.33,14381.43,15141.72,14199.52,16633.1,13644,12361.74,16355.1,
                                       15235.24,16974.76,17495.41,13327.53,12453.42,17352.59,13336.27,16565.73,12905.92,15014.46,13339.13,13295.8,12062.62,13035.1,17724.49,15627.67,17640.6,
                                       15020.25,12585.13,16919.28,13821.42,16071.37,16716.39,12089.12,17930.55,17966.05,13204.57,17404.19,17380.56,13662.13,15125.36,12352.36,17728.55,
                                       16886.27,17638.98,17901.45,15648.75,13327.48,16903.96,13868.68,14446.47,14117.73,14983.43,16353.31,12046.78,15528.84,14011.69,13006.18,15110.37,
                                       12092.22,14862.62,15095.11,17931.27,15751.9,13870.4,16075.9,13091.83,14526.79,12672.85,15618.41,15796.2,17882.62,13977.86,15524.93,13160.22,16994.55,
                                       14049.22,16012.74,13373.61,12527.59,12178.19,14361.43,14648.7,16471.79,13642.9,16221.13,12016.86,14560.96,12284.71,13944.99,17184.4,16184.66,14389.35,
                                       13891.83,13232.48,15475.11,17189.27,15152.33,12873.18,17141.87,16723.01,13276.38,14548.14,14754.44,13163.25,14646.17,13081.02,14611.39,17617.24,12740.33,
                                       17480.24,17926.95,17285.91,15642.58,17166.99,14678.85,16414.97,17117.86,13396.29,15092.98,12985.95,16326.45,12191.64,14584.35,15325.49,17457.42,13073.35,
                                       16548.57,16614.31,17620.93,12377.56,12178.17,13597.42,13823.86, 4139.65,14927.88,13805.92,12318.61,12039.12,14620.35,16363.18,16439.94,12893.35,16389.33,
                                       17354.43,13899.33,14232.04,16562.74,13868.38,12423.07,16699.94,14889.2,15266.75,16280.49,14657.31,16548.61,15938.38,16431.67,12064.63,12733.28,12811.07,
                                       17463.22,14742.38,13873.73,14572.88,14643.58,12245.22,13770.25,12882.45,12544.84,14698.42,13003.94,17397.14,14682.61,14008.61,16394.02,14173.18,15898.77,
                                       16917.6,12774.16,14927.52,17621.02,15854.7,15751.23,15728.35,17067.23,13826.53,13491.67,14079.42,13285.69,14956.61,12128.99,13284.55,14476.54,12280.01,
                                       12291.49,13213.23,17235.78])                                                                                                                                 # np.random.uniform(12000,18000,300)

            bw_c = np.array([0.199,0.299,0.862,0.777,0.059,0.576,0.729,0.446,0.807,0.311,0.561,0.25,0.145,0.629,0.321,0.584,0.448,0.138,0.475,
                             0.961,0.677,0.944,0.313,0.971,0.99,0.859,0.204,0.767,0.856,0.262,0.698,0.173,0.834,0.632,0.918,0.646,0.532,0.624,
                             0.191,0.903,0.072,0.666,0.8,0.747,0.762,0.162,0.608,0.163,0.574,0.145,0.653,0.633,0.718,0.481,0.321,0.655,0.07,0.452,
                             0.705,0.159,0.592,0.314,0.937,0.866,0.37,0.43,0.696,0.348,0.436,0.399,0.713,0.003,0.115,0.513,0.258,0.173,0.805,0.795,
                             0.273,0.255,0.428,0.501,0.825,0.389,0.982,0.277,0.481,0.555,0.341,0.488,0.6,0.134,0.867,0.969,0.36,0.08,0.716,0.924,
                             0.93,0.374,0.327,0.282,0.855,0.595,0.94,0.069,0.137,0.925,0.701,0.096,0.282,0.212,0.791,0.231,0.377,0.401,0.182,0.997,
                             0.777,0.09,0.527,0.093,0.873,0.429,0.104,0.775,0.62,0.14,0.735,0.318,0.469,0.616,0.566,0.093,0.237,0.25,0.583,0.863,
                             0.688,0.073,0.359,0.544,0.817,0.443,0.357,0.122,0.09,0.411,0.199,0.141,0.315,0.404,0.588,0.981,0.367,0.961,0.392,0.298,
                             0.968,0.743,0.855,0.878,0.248,0.911,0.284,0.388,0.36,0.751,0.347,0.26,0.464,0.278,0.005,0.149,0.775,0.694,0.662,0.514,
                             0.784,0.543,0.787,0.57,0.002,0.493,0.35,0.933,0.532,0.936,0.84,0.942,0.647,0.44,0.866,0.381,0.457,0.216,0.56,0.318,0.057,
                             0.452,0.011,0.788,0.82,0.489,0.527,0.515,0.572,0.185,0.98,0.4,0.011,0.521,0.193,0.382,0.044,0.571,0.648,0.631,0.977,0.395,
                             0.174,0.698,0.731,0.529,0.228,0.271,0.548,0.446,0.51,0.343,0.016,0.263,0.44,0.263,0.417,0.774,0.277,0.245,0.195,0.865,0.345,
                             0.578,0.432,0.34,0.882,0.773,0.667,0.407,0.061,0.901,0.681,0.196,0.478,0.148,0.902,0.69,0.84,0.965,0.22,0.329,0.982,0.316,
                             0.671,0.855,0.828,0.732,0.472,0.488,0.696,0.885,0.514,0.92,0.221,0.366,0.697,0.238,0.942,0.002,0.172,0.025,0.48,0.891,0.754,
                             0.297,0.054,0.673,0.536,0.62,0.515,0.615,0.092,0.584,0.588,0.064,0.931,0.128,0.173,0.733,0.523,0.211])                                                               # np.random.uniform(0,1,300) 

            trans_pow_cl = np.array([319.33,477.53,471.1,366.98,372.09,471.56,479.6,332.23,408.45,440.1,497.1,336.26,307.62,450.09,377.21,469.88,327.06,340.68,476.15,340.6,492.35,457.46,382.66,425.85,499.1,354.31,429.53,
                                     452.78,323.92,466.2,482.85,343.75,363.88,382.2,488.91,330.04,493.56,427.8,445.91,421.79,387.39,346.74,306.04,457.53,386.88,372.46,334.68,332.71,464.82,404.76,303.57,371.96,452.91,304.68,
                                     369.25,392.57,418.17,409.37,446.66,401.93,384.79,302.47,499.81,493.44,474.11,452.16,327.32,488.52,389.86,424.56,341,326.03,447.68,479.69,472.7,417.25,431.67,363,442.52,429.9,319.86,309.56,
                                     342.18,390.09,414.78,341.63,389.55,466.9,442.32,358.13,417.22,446.61,315.07,300.19,338.11,342.85,374.37,457.36,444.75,381.99,330.43,465.09,404.45,406.24,426.8,473.01,434.83,477.56,379.22,
                                     305.85,324.95,387.46,484.95,364,341.29,385.47,472.87,380.28,443.02,355.81,324.02,359.2,344.41,389.07,332.75,410.14,455.2,350.49,469.24,330.58,396.62,480.61,403.16,490.84,321.14,306.82,478.1,
                                     362.63,346.39,386.22,352.66,361.3,450.83,341.59,350.62,356.79,343.32,493.99,365.44,422.82,441.81,385.17,471.34,332.17,449.62,400.64,402.4,314.12,308.59,480.93,355.17,390.46,428.37,496.78,
                                     499.16,477.14,438.92,340.13,378.6,410.77,423.46,318.19,374.5,359.51,429.32,482.8,373.42,362.26,422.88,433.12,328.1,316.95,353.69,345.22,315.32,309.09,373.07,389.57,397.6,486.5,433.41,420.09,
                                     412.92,319.59,304.38,415.73,494.54,356.45,381.67,406.23,366.49,430.59,490.08,448.65,321.45,426.33,372.37,476.02,465.05,468.99,385.24,320.99,332.81,307.34,365.28,422.46,409.73,477.02,363.49,495.14,
                                     348.04,366.9,389.22,419.38,491.18,447.67,475.46,389.47,372.85,448.63,452.88,362.9,388.48,345.58,418.34,404.48,454.71,472.32,410.18,495.19,399.64,413.95,469.25,326.35,338.37,349.09,394.92,324.7,
                                     378.44,459.37,309.24,358.9,463.06,497.,404.52,473.93,401.58,406.51,385.35,374.26,464.76,340.1,347.77,345.41,421.57,457.74,434.4,451.61,349.51,430.73,473.21,397.04,499.36,417.46,456.82,302.7,
                                     356.27,399.74,404.3,413.37,390.,359.89,327.18,379.72,396.69,348.64,319.32,408.53,334.41,419.98,370.39,478.81,416.54,456.,405.58,440.75,431.26,447.63,316.76,361.06])                                                                                                                                                
                                                                                                                                                                                                                          # np.random.uniform(300,500,300)
                                                                                                                                                                                                            
                                                                                                            
            
            noise_pow_cl = np.array([3.47153795e-08,1.54537264e-08,1.00658035e-07,1.16028864e-08,1.69604666e-08,1.33069425e-08,3.48171213e-08,9.43176670e-07,2.59353631e-08,1.03507618e-08,5.31791580e-08,2.32042320e-08
                                  ,1.17874408e-08,1.35123135e-08,1.64472037e-08,6.73268883e-08,3.10749521e-07,8.70163735e-07,1.81670086e-08,2.19081614e-08,9.53513849e-08,1.24586998e-08,1.75285281e-07,1.32588490e-08
                                  ,7.56598166e-07,2.54402390e-08,3.76922630e-08,2.10038196e-08,3.06705935e-07,5.41668515e-08,9.04769481e-07,1.04608215e-08,2.72631178e-07,3.69398601e-08,3.21922686e-08,4.13719332e-07
                                  ,4.97657504e-07,8.95560274e-07,3.33241639e-07,1.15749802e-07,5.99171819e-07,3.63836829e-07,7.04906160e-08,5.38923764e-08,1.68178949e-08,5.11252024e-07,2.49825392e-08,1.95708395e-08
                                  ,1.62479832e-07,2.32272661e-08,2.46878600e-07,2.31752936e-08,1.18807588e-07,7.76673770e-07,3.34400145e-08,5.70885061e-07,5.68697594e-08,9.10616724e-07,3.29360767e-08,5.01316407e-07
                                  ,4.37881206e-07,5.78215105e-07,3.36365651e-08,3.83624203e-07,1.32298770e-08,7.62911529e-07,2.71124647e-07,4.98431072e-08,9.03996236e-08,5.24451165e-07,1.17612701e-07,2.73128239e-07
                                  ,5.90580188e-08,2.83107411e-08,9.16253967e-07,2.67681415e-07,8.12723170e-08,1.18835777e-08,2.93935717e-08,7.59537194e-08,1.36165227e-07,3.44592425e-07,5.32555332e-07,1.17335073e-08
                                  ,9.48421082e-07,1.61026585e-08,1.31734302e-07,1.16540336e-08,4.88721598e-08,5.87104035e-07,1.87926005e-07,2.53923250e-07,3.23178999e-08,9.97549187e-08,2.99705316e-07,8.44211151e-07
                                  ,2.83105311e-07,3.33021600e-07,2.21854729e-08,9.12957955e-07,9.54143449e-07,1.19451037e-08,1.00937990e-07,3.65924716e-08,3.79436836e-08,1.24099605e-08,3.48440950e-08,2.66729013e-07
                                  ,1.08504297e-08,3.01569029e-07,4.04952125e-08,1.30116367e-07,3.09218738e-08,2.01914067e-07,2.60012361e-08,1.24839098e-07,4.82308732e-07,9.68862907e-07,4.26810641e-08,3.42957911e-08
                                  ,4.34083890e-08,1.55444141e-07,2.85034302e-07,8.99430444e-08,7.69802744e-07,4.86594001e-08,1.86799170e-08,6.00697789e-07,4.75634529e-08,1.98423461e-08,1.37244008e-07,2.86128199e-08
                                  ,3.71225435e-08,7.33710629e-07,2.90502920e-08,3.88496852e-08,2.00355163e-08,5.66494642e-08,4.91830223e-07,2.51805875e-07,8.08420784e-08,1.31965394e-07,2.68996819e-08,4.04654466e-07
                                  ,1.21579234e-07,1.11335824e-07,1.03710207e-08,7.52801615e-08,7.91293837e-08,7.86032356e-08,2.24552053e-08,8.62144535e-08,4.12864089e-07,3.84210125e-08,9.16670448e-07,8.22630489e-07
                                  ,1.67712372e-08,9.97717611e-07,1.69130061e-07,3.80614691e-07,2.76368128e-08,7.77381711e-07,6.42956552e-08,5.63593748e-07,6.07497389e-08,1.63622718e-08,1.53984180e-07,3.65550718e-07
                                  ,4.92269316e-07,1.66294384e-07,9.87761994e-07,1.14156533e-08,3.45849738e-07,9.16173471e-08,3.13940011e-07,7.37508284e-08,1.00311744e-07,1.65219096e-08,1.98029673e-07,1.23277423e-08
                                  ,2.70701749e-08,4.19145062e-07,7.70876025e-07,3.05620968e-07,5.17657631e-08,3.60891187e-07,2.23003442e-07,1.41947055e-07,7.87910659e-08,1.70164446e-07,6.67663215e-08,1.30207733e-07
                                  ,3.00408910e-08,1.74420216e-07,3.37699278e-08,3.79460227e-08,9.69381071e-08,1.85569739e-08,2.74766704e-08,4.45948696e-07,1.02702577e-07,9.32125081e-07,3.34126983e-08,9.21238149e-07
                                  ,1.13781107e-07,5.30092840e-07,2.00601414e-07,2.49251323e-08,3.07694258e-07,5.21227049e-07,8.75882636e-07,6.65427137e-07,3.38936512e-07,1.13965274e-07,4.24919960e-08,8.76425196e-08
                                  ,3.37301898e-07,2.12845584e-08,5.61271701e-07,2.36798303e-08,1.51504797e-07,7.17948085e-07,2.66740126e-07,1.37092347e-08,1.11638606e-08,1.28835062e-08,1.04199962e-07,2.04314095e-08
                                  ,7.33165179e-07,4.56876049e-08,1.17621558e-08,5.22670134e-08,9.32498961e-07,3.30214644e-08,3.50183430e-08,2.22636948e-07,1.24240032e-08,3.10820531e-08,7.17553499e-07,5.01087424e-07
                                  ,4.35410671e-07,4.74013430e-07,6.28047198e-07,1.19812520e-07,6.20001355e-08,1.78476056e-08,1.44711357e-07,3.69063419e-08,6.55786341e-07,8.41944558e-08,8.31763771e-07,9.77237221e-08
                                  ,1.00000000e-07,1.90546072e-07,2.18776162e-07,1.07151931e-07,1.28824955e-07,1.69824365e-08,4.89778819e-07,7.07945784e-08,1.41253754e-08,6.30957344e-07,2.75422870e-07,6.16595002e-08
                                  ,3.63078055e-08,2.34422882e-07,1.12201845e-07,5.12861384e-07,2.81838293e-07,1.04712855e-07,8.91250938e-07,1.38038426e-07,4.67735141e-07,1.99526231e-07,3.63078055e-08,4.67735141e-08
                                  ,1.65958691e-07,1.94984460e-07,1.51356125e-08,1.90546072e-08,2.39883292e-07,4.36515832e-07,1.44543977e-07,1.25892541e-07,8.31763771e-07,1.73780083e-07,1.69824365e-07,9.12010839e-08
                                  ,7.94328235e-07,1.07151931e-08,1.73780083e-08,7.76247117e-08,3.54813389e-08,4.36515832e-08,9.77237221e-07,6.45654229e-07,1.99526231e-08,1.54881662e-07,3.71535229e-07,1.81970086e-08])          # np.random.uniform(-8,-6,15)


            bw = np.array([49.98,40.08,40.77,40.11,46.19,40.87,43.27,47.49,46.67,49.02,42.59,45.28,47.19,40.47,45.98,48.08,44.66,40.87,40.44,48.07,44.38,43.85,44.45,44.69,46.56,45.21,49.18,45.52,40.61,45.81,45.13,
                           43.07,49.64,43.35,44.22,47.27,47.15,44.76,40.45,45.85,45.08,40.9,49.41,47.86,42.49,42.79,41.4,44.82,40.08,41.09,47.89,40.86,48.12,41.33,43.42,40.85,42.81,40.61,41.87,43.24,45.28,46.52,
                           42.7,48.06,41.72,42.6,49.39,49.37,44.01,48.29,43.49,42.49,41.95,43.94,47.16,45.19,40.17,42.47,46.81,43.01,43.12,41.01,43.9,40.29,49.09,49.66,49.84,47.33,46.16,41.62,48.15,43.21,44.73,
                           49.,45.63,49.07,47.79,41.89,41.22,46.02,40.15,45.74,48.58,41.36,46.91,41.38,43.87,43.23,47.43,48.35,46.56,49.46,49.85,48.94,45.22,48.07,48.36,46.85,40.35,41.2,48.14,49.28,44.66,40.25,
                           45.77,48.59,42.32,42.27,40.57,48.57,48.79,45.77,40.34,43.95,43.06,41.92,44.77,46.94,43.29,48.55,40.35,47.32,47.34,41.,49.27,47.09,46.19,43.99,48.74,40.19,46.29,43.49,48.35,47.35,43.91,
                           49.15,48.34,45.18,41.32,47.97,43.81,45.31,44.42,45.45,49.5,45.5,40.75,43.03,45.8,46.18,44.51,40.45,44.95,49.07,42.74,41.92,43.14,47.42,41.66,42.21,45.77,44.64,40.18,41.03,47.32,43.99,
                           49.76,45.16,42.71,41.52,41.22,45.19,47.91,45.03,43.94,48.25,46.04,42.66,49.84,49.85,42.5,43.68,47.13,41.99,42.57,46.89,45.74,41.07,41.98,41.69,41.98,48.46,42.5,41.75,41.74,43.15,40.52,
                           46.74,49.61,42.83,43.47,45.26,49.31,44.43,46.54,47.38,45.41,41.79,44.5,43.63,41.56,43.13,46.84,48.86,44.22,42.14,46.53,46.19,40.57,43.35,49.47,47.38,49.45,48.09,43.58,43.23,40.24,47.22,
                           46.13,43.11,45.31,49.12,41.43,44.64,42.85,45.99,48.39,42.05,49.03,45.87,41.88,41.04,41.45,41.19,45.54,49.47,43.48,49.49,40.63,44.23,48.13,45.41,48.52,43.44,44.51,48.93,42.9,42.47,46.13,
                           42.86,47.38,46.83,41.08,46.98,45.33,48.51,41.66,41.07,48.65,41.73,46.87,45.27,42.29,48.28,47.57,47.57,42.7,40.8,49.61,42.14])                                                                      # np.round(np.random.uniform(40,50,300),2) 
            
            snr_cl = (trans_pow_cl[i]/noise_pow_cl[i])
            rate_cloud = bw_c[i]*bw[i]*(math.log(snr_cl))
            # arr_rate = np.random.uniform(2100,2500,1)
            off_cloud = (raw_data_cloud[i]/rate_cloud)
            off_cl = off_cl + off_cloud
            res_cloud = (raw_data_cloud[i]/comp_cap_cloud[i])
            trans_cloud = (computed_data_cloud[i]/rate_cloud)
            trans_cl = trans_cl + trans_cloud
            latency_cloud = off_cloud + res_cloud + trans_cloud
            tot_latency_cloud = tot_latency_cloud + latency_cloud
            bw_cl = bw_c[i]*bw[i]
            bw_cloud = bw_cloud + bw_cl

    for i in range(l):        
        # if sub[i] > 1  : #edge execution
        if x[i] > solution_sort[1] : #edge execution  #250 tasks edge   

          raw_data_edge = np.array([0.39,1.65,2.91,1.97,0.8,0.5,1.12,2.06,2.84,0.95,1.36,0.39,2.13,1.89
                              ,0.42,2.69,0.22,2.93,1.08,0.82,0.23,2.31,1.66,1.48,2.45,1.49,0.49,2.46
                              ,1.81,0.90,2.03,0.23,1.96,1.82,1.46,1.12,2.06,1.07,0.88,2.26,2.21,1.99
                              ,0.63,0.29,2.52,0.41,2.99,2.44,2.11,1.12,1.77,0.94,1.01,1.04,1.89,0.53
                              ,1.72,1.61,2.69,1.35,0.5,1.26,0.73,2.04,0.73,1.81,2.94,0.54,1.1,1.93
                              ,0.85,0.92,0.45,2.59,1.65,0.76,1.06,1.87,0.4,1.59,1.27,2.19,0.78,0.43
                              ,0.37,1.73,0.23,0.56,0.48,1.29,1.03,2.36,1.03,1.47,1.15,2.82,1.02,0.26
                              ,0.30,0.77,1.81,3.04,2.58,2.70,0.34,2.1,1.67,2.43,1.78,2.79,2.69,2.94
                              ,2.08,0.30,2.69,0.33,2.66,1.53,2.74,2.42,1.19,0.38,1.96,0.68,0.9,1.4
                              ,1.01,2.08,1.32,1.72,2.52,1.75,0.54,1.39,1.96,0.33,0.81,2.46,2.36,0.3
                              ,1.43,1.73,0.37,0.86,1.35,0.85,1.17,2.99,0.29,2.64,1.27,2.78,1.98,2.58
                              ,2.92,1.67,2.86,0.47,2.88,1.96,0.95,1.28,2.88,1.72,0.69,0.42,1.63,2.88
                              ,1.11,2.92,1.59,0.32,1.21,2.91,1.91,1.58,1.73,2.92,1.27,2.73,2.5,0.73
                              ,1.11,1.10,2.43,1.08,2.56,1.28,2.02,2.77,2.18,1.02,0.73,0.79,2.96,0.2
                              ,1.91,0.64,1.27,0.83,0.72,1.39,1.36,2.07,0.94,2.77,1.56,1.72,0.45,2.41
                              ,0.99,1.68,1.7,0.53,2.05,1.79,1.46,2.34,1.59,0.24,2.25,2.17,2.06,1.34
                              ,1.21,1.14,1.43,2.93,0.33,0.94,2.96,1.82,0.42,2.97,1.01,1.83,0.72,2.74
                              ,2.29,0.85,1.67,0.68,1.91,2.12,1.66,1.05,2.61,1.53,0.98,2.93,0.30,0.77
                              ,1.31,0.04,2.52,2.17,0.54,2.1,1.87,2.43,1.78,1.79,2.69,0.94,1.48,0.05
                              ,1.69,0.33,1.66,1.53,2.74,1.43,1.19,0.38,0.96,1.68,0.9,2.4,0.91,1.08
                              ,2.32,0.72,0.52,1.75,0.54,0.59,1.76,1.43,0.81,0.66,1.36,1.3,0.43,0.73
                              ,1.33,0.86,0.35,0.85,1.17,2.07])                                                                                                             # np.random.uniform(0.2,3,300)

          computed_data_edge = np.array([0.76,0.22,0.45,0.13,0.29,0.35,0.17,0.94,0.33,0.77,0.91,0.35,0.39,0.33,0.73,0.82,0.35,0.86,0.89,0.79,0.07,0.19,0.35,0.24,0.93,0.67,0.12,0.5,0.84,0.94,
                                          0.88,0.56,0.75,0.73,0.55,0.8,0.56,0.58,0.79,0.62,0.25,0.75,0.12,0.2,0.29,0.67,0.75,0.54,0.84,0.35,0.59,0.94,0.07,0.16,0.26,0.3,0.3,0.46,0.69,0.23,0.69,
                                          0.85,0.38,0.79,0.45,1,0.9,0.11,0.81,0.78,0.11,0.06,0.07,0.7,0.57,0.17,0.89,0.21,0.02,0.48,0.26,0.22,0.41,0.03,0.03,0.6,0.4,0.95,0.89,0.68,0.92,0.63,0.51,
                                          0.59,0.84,0.23,0.7,0.51,0.41,0.7,0.71,0.91,0.39,0.53,0.48,0.51,0.34,0.71,0.24,0.45,0.98,0.06,0.69,0.48,0.59,0.92,0.06,0.22,0.28,0.93,0.62,0.27,0.94,0.68,
                                          0.84,0.81,0.34,0.04,0.17,0.93,0.39,0.65,0.13,0.29,0.72,0.9,0.97,0.66,0.04,0.42,0.88,0.58,0.18,0.38,0.37,0.59,0.22,0.11,0.79,0.21,0.83,0.46,0.33,0.33,0.83,
                                          0.95,0.65,0.33,0.42,0.4,0.86,0.21,0.86,0.11,0.19,0.14,0.18,0.08,0.67,0.56,0.89,0.5,0.68,0.14,0.96,0.03,0.69,0.96,0.02,0.58,0.59,0.1,0.56,0.62,0.59,0.35,0.72,
                                          0.16,0.25,0.73,0.96,0.74,0.42,0.67,0.32,0.33,0.95,0.39,0.2,0.84,0.04,0.57,0.84,0.29,0.41,0.39,0.43,0.59,0.02,1,0.38,0.38,0.09,0.36,0.2,0.02,0.12,0.32,0.71,
                                          0.48,0.57,0.81,0.41,0.23,0.74,0.61,0.43,0.11,0.7,0.83,0.32,0.16,0.84,0.34,0.61,0.51,0.29,0.24,0.14,0.29,0.83,0.64,0.28,0.6,0.92,0.85,0.9,0.79,0.22,0.22,0.28,
                                          0.93,0.14,0.2,0.38,0.15,0.82,0.82,0.51,0.74,0.11,0.97,0.97,0.45,0.42,0.59,0.75,0.19,0.06,0.63,0.51,0.56,0.43,0.74,0.83,0.6,0.67,0.13,0.18,0.67,0.5,0.48,0.13,
                                          0.49,0.33,0.06,0.47,0.88,0.89,0.78,0.23,0.42,0.69,0.64,0.51,0.46,0.99,0.62,0.67,0.24])                                                                         # np.random.uniform(0.02,1,300)                                                                                       

          comp_cap_edge = np.array([4527.58,6681.18,6582.43,6793.23,6172.73,5444.64,6312.88,4308.31,5196,7552.62,7041.61,4065.95,5424.87,5530.98,7494.32,4443.13,5182.43,5551.24,7996.95,
                                    5749.44,5712.87,4671.94,5006.42,6762.96,4197.92,5845.91,7955.23,5880.35,7259.36,7858.81,4637.46,5356.77,7523.06,6212.88,6105.16,4299.57,5556.1,4602.81,
                                    6830.65,5831.24,4889.05,6791.61,7568.45,7557.54,7359.19,5342.35,5561.3,5119.11,7821.39,6305.88,4651.04,4363.84,5594.33,7659.17,5356.22,5153.6,6247.56,
                                    6633.69,7123.87,6125.57,5125.39,6478.19,6647.77,4906.3,5392.56,4449.97,5337.83,6820.4,6600.68,5416.42,7117.49,5040.25,4402.31,7695.3,7435,5264.19,7227.28,
                                    7380.73,7755.8,5736.93,4798.52,7718.98,7471.27,7899.98,4693.75,5989.75,4396.95,5207.19,4797.73,7562.18,5903.43,6375.52,7809.9,7024.29,5631.37,5331.66,
                                    7632.89,6835.49,5034.03,5883.12,7491.3,6431.25,6125.06,4954.79,5626.67,4055.86,4751.17,5876.21,6681.39,5149.75,6153.21,5124.75,5128.11,4876.8,5488.18,
                                    4979.42,7379.38,6869.86,7516.21,4209.24,6827.86,5995.13,6411.16,7352.79,4292.31,5267.42,7224.38,6399.09,5885.42,6900.26,7807.11,5998.48,5329.71,7190.8,
                                    6973.84,5273.59,5455.08,7154.27,4897.62,6983.4,4684.13,6435.44,6244.45,4510.31,6982.95,6262.02,4184.7,4427.16,5163.37,6976.9,7039.83,4009.36,4257.85,
                                    7972.87,6784.88,6514.17,5390.91,7871.49,7881.61,5206.88,6595.76,5080.37,5990.11,5750.61,4468.69,7290.01,4796.35,7794.47,7257.41,4098.82,7889.89,4594.83,
                                    7338.54,6554.25,6798.86,4970.22,5258.47,6971.16,4559.1,5792.53,4258.82,6403.84,7861.7,4697.54,4598.28,4426.6,6335.93,7703.63,6186.6,5946.72,6850.34,
                                    4681.44,5809.91,4840.15,5963.76,5624.85,4554.32,7242.1,5857.57,4410.89,5323.92,7439.45,4360.94,5762.06,7195.39,5048.68,5621.45,7434.31,6441.25,5182.2,
                                    6830.72,4097.05,5293.22,6026.56,6724.16,4421.53,4598.61,4391.16,7865.02,7136.78,7992.79,4448.15,6928.72,6477.92,5966.38,5740.63,7181.04,5121.27,7086.4,5917.78,6967.75,
                                    6044.81,4188.66,7200.12,4933.71,6495,7641.44,5725.57,6933.87,7521.35,7484.11,4993.23,5343.73,5848.7,7607.53,6344.35,5108.38,4274.32,4268.73,7997.31,4858.,5270.44,
                                    4356.99,6247.33,7223.7,4998.4,4589.47,7694.61,4480.99,4305.29,6708.07,4640.83,7938.67,7435.8,4654.51,4379.68,4517.04,5393.61,6586.59,6984.63,5998.31,6697.93,7591.95,
                                    5877.48,7811.29,6014.03,7622.21,6677.46,7168.9,6910.11,5361.03,7679.68,5912.51,6220.79,6917.02,4938.16,7301.16,4377.95,7178.81,7470.59,6642.35,5496.16,4208.85,6359.16,
                                    6365.12,7830.08,7512.63,7830.23,7239.59,5799.93])                                                                                                                    # np.random.uniform(4000,8000,300)
          
          bw_e = np.array([0.199,0.299,0.862,0.777,0.059,0.576,0.729,0.446,0.807,0.311,0.561,0.25,0.145,0.629,0.321,0.584,0.448,0.138,0.475,
                            0.961,0.677,0.944,0.313,0.971,0.99,0.859,0.204,0.767,0.856,0.262,0.698,0.173,0.834,0.632,0.918,0.646,0.532,0.624,
                            0.191,0.903,0.072,0.666,0.8,0.747,0.762,0.162,0.608,0.163,0.574,0.145,0.653,0.633,0.718,0.481,0.321,0.655,0.07,0.452,
                            0.705,0.159,0.592,0.314,0.937,0.866,0.37,0.43,0.696,0.348,0.436,0.399,0.713,0.003,0.115,0.513,0.258,0.173,0.805,0.795,
                            0.273,0.255,0.428,0.501,0.825,0.389,0.982,0.277,0.481,0.555,0.341,0.488,0.6,0.134,0.867,0.969,0.36,0.08,0.716,0.924,
                            0.93,0.374,0.327,0.282,0.855,0.595,0.94,0.069,0.137,0.925,0.701,0.096,0.282,0.212,0.791,0.231,0.377,0.401,0.182,0.997,
                            0.777,0.09,0.527,0.093,0.873,0.429,0.104,0.775,0.62,0.14,0.735,0.318,0.469,0.616,0.566,0.093,0.237,0.25,0.583,0.863,
                            0.688,0.073,0.359,0.544,0.817,0.443,0.357,0.122,0.09,0.411,0.199,0.141,0.315,0.404,0.588,0.981,0.367,0.961,0.392,0.298,
                            0.968,0.743,0.855,0.878,0.248,0.911,0.284,0.388,0.36,0.751,0.347,0.26,0.464,0.278,0.005,0.149,0.775,0.694,0.662,0.514,
                            0.784,0.543,0.787,0.57,0.002,0.493,0.35,0.933,0.532,0.936,0.84,0.942,0.647,0.44,0.866,0.381,0.457,0.216,0.56,0.318,0.057,
                            0.452,0.011,0.788,0.82,0.489,0.527,0.515,0.572,0.185,0.98,0.4,0.011,0.521,0.193,0.382,0.044,0.571,0.648,0.631,0.977,0.395,
                            0.174,0.698,0.731,0.529,0.228,0.271,0.548,0.446,0.51,0.343,0.016,0.263,0.44,0.263,0.417,0.774,0.277,0.245,0.195,0.865,0.345,
                            0.578,0.432,0.34,0.882,0.773,0.667,0.407,0.061,0.901,0.681,0.196,0.478,0.148,0.902,0.69,0.84,0.965,0.22,0.329,0.982,0.316,
                            0.671,0.855,0.828,0.732,0.472,0.488,0.696,0.885,0.514,0.92,0.221,0.366,0.697,0.238,0.942,0.002,0.172,0.025,0.48,0.891,0.754,
                            0.297,0.054,0.673,0.536,0.62,0.515,0.615,0.092,0.584,0.588,0.064,0.931,0.128,0.173,0.733,0.523,0.211])                                           # np.random.uniform(0,1,300)
          
          trans_pow_e = np.array([232.43,131.29,251.7,225.05,125.56,261.53,156.02,160.97,294.84,265.04,207.7,120.43,272.59,282.46,191.25,264.62,163.59,
                                  130.39,280.31,184.26,107,183.12,136.79,263.41,204.25,237.69,247.13,272.17,244.11,245.3,259.54,203.01,294.12,182.21,208.31,
                                  185.3,193.91,143.53,204.18,228.91,250.05,116.3,259.23,265.96,149.45,222.16,127.64,296.47,140.86,266.63,213.06,283.48,112.68,
                                  102.23,124.67,137.35,137.34,261.24,297.42,264.91,158.1,152.15,141.52,175.89,172.25,283.25,184.3,251.27,140.98,218.02,139.33,
                                  156.32,196.49,284.45,229.49,213.55,141.14,204.23,217.98,227.98,170.86,267.39,123.39,205.02,127.96,156.83,121.51,217.05,115.55,
                                  114.07,124.54,133.32,183.66,175.64,283.39,149.75,213.44,264.26,203.49,153.32,204.41,171.64,125.05,261.85,145.87,131.33,252.39,
                                  229.26,225.77,292.83,218.04,105.88,183.83,134.8,209.91,123.17,181.05,262.53,116.83,112.41,194.68,272.48,151.95,232.44,237.49,
                                  141.89,282.12,210.38,106.81,133.73,171.96,154.34,116.37,180.61,210.45,148.63,262.59,113.16,278.82,148.63,133.25,287.92,214.45,
                                  147.37,155.4,179.6,194.93,279.06,138.65,229.51,179.62,121.47,165.3,240.92,224.34,187.84,193.66,188.55,102.37,294.16,153.44,
                                  184.08,134.54,248.37,139.32,240.37,153.17,111.91,267.49,155.05,219.51,216.97,226.1,135,240.29,267.1,229.95,166.54,102.91,273.09,
                                  237.06,149.4,215.09,233.23,288,152.36,160.11,228.18,218.06,105.27,204,275.43,116.38,223.1,172.04,101.8,128.28,185.46,296.71,
                                  260.23,297.29,297.05,242.03,189.16,247.05,111.46,261.42,191.59,297.74,122.57,178.15,122.72,242.26,281.22,251.84,120.74,193.71,
                                  216.01,181.51,171.57,111.27,209.99,143.56,204.91,105.53,221.4,185.67,153.52,285.89,263.02,173.36,212.47,178.01,179.98,
                                  207.52,173.37,256.25,232.6,154.79,105.78,113.57,251.1,199.51,234.63,111.73,158.94,296.64,172.93,143.13,171.07,155.88,
                                  210.96,243.15,208.54,281.87,180.65,200.55,164.26,261.66,102.08,154.04,176.27,228.38,289.13,194.67,286.71,236.44,201.53,
                                  162.39,192.41,238.88,157.04,145.46,167.38,285.38,267.19,230.62,263.86,248.53,149.09,266.19,151.58,249.15,104.49,161.21,
                                  265.05,144.81,148.93,131.96,219.21,169.36,232.,229.61,164.47,202.02,244.04,289.57,248.71,164.54,240.81])                                                          # np.random.uniform(100,300,300)     
                                
          noise_pow_e = np.array([3.47153795e-08,1.54537264e-08,1.00658035e-07,1.16028864e-08,1.69604666e-08,1.33069425e-08,3.48171213e-08,9.43176670e-07,2.59353631e-08,1.03507618e-08,5.31791580e-08,2.32042320e-08
                                ,1.17874408e-08,1.35123135e-08,1.64472037e-08,6.73268883e-08,3.10749521e-07,8.70163735e-07,1.81670086e-08,2.19081614e-08,9.53513849e-08,1.24586998e-08,1.75285281e-07,1.32588490e-08
                                ,7.56598166e-07,2.54402390e-08,3.76922630e-08,2.10038196e-08,3.06705935e-07,5.41668515e-08,9.04769481e-07,1.04608215e-08,2.72631178e-07,3.69398601e-08,3.21922686e-08,4.13719332e-07
                                ,4.97657504e-07,8.95560274e-07,3.33241639e-07,1.15749802e-07,5.99171819e-07,3.63836829e-07,7.04906160e-08,5.38923764e-08,1.68178949e-08,5.11252024e-07,2.49825392e-08,1.95708395e-08
                                ,1.62479832e-07,2.32272661e-08,2.46878600e-07,2.31752936e-08,1.18807588e-07,7.76673770e-07,3.34400145e-08,5.70885061e-07,5.68697594e-08,9.10616724e-07,3.29360767e-08,5.01316407e-07
                                ,4.37881206e-07,5.78215105e-07,3.36365651e-08,3.83624203e-07,1.32298770e-08,7.62911529e-07,2.71124647e-07,4.98431072e-08,9.03996236e-08,5.24451165e-07,1.17612701e-07,2.73128239e-07
                                ,5.90580188e-08,2.83107411e-08,9.16253967e-07,2.67681415e-07,8.12723170e-08,1.18835777e-08,2.93935717e-08,7.59537194e-08,1.36165227e-07,3.44592425e-07,5.32555332e-07,1.17335073e-08
                                ,9.48421082e-07,1.61026585e-08,1.31734302e-07,1.16540336e-08,4.88721598e-08,5.87104035e-07,1.87926005e-07,2.53923250e-07,3.23178999e-08,9.97549187e-08,2.99705316e-07,8.44211151e-07
                                ,2.83105311e-07,3.33021600e-07,2.21854729e-08,9.12957955e-07,9.54143449e-07,1.19451037e-08,1.00937990e-07,3.65924716e-08,3.79436836e-08,1.24099605e-08,3.48440950e-08,2.66729013e-07
                                ,1.08504297e-08,3.01569029e-07,4.04952125e-08,1.30116367e-07,3.09218738e-08,2.01914067e-07,2.60012361e-08,1.24839098e-07,4.82308732e-07,9.68862907e-07,4.26810641e-08,3.42957911e-08
                                ,4.34083890e-08,1.55444141e-07,2.85034302e-07,8.99430444e-08,7.69802744e-07,4.86594001e-08,1.86799170e-08,6.00697789e-07,4.75634529e-08,1.98423461e-08,1.37244008e-07,2.86128199e-08
                                ,3.71225435e-08,7.33710629e-07,2.90502920e-08,3.88496852e-08,2.00355163e-08,5.66494642e-08,4.91830223e-07,2.51805875e-07,8.08420784e-08,1.31965394e-07,2.68996819e-08,4.04654466e-07
                                ,1.21579234e-07,1.11335824e-07,1.03710207e-08,7.52801615e-08,7.91293837e-08,7.86032356e-08,2.24552053e-08,8.62144535e-08,4.12864089e-07,3.84210125e-08,9.16670448e-07,8.22630489e-07
                                ,1.67712372e-08,9.97717611e-07,1.69130061e-07,3.80614691e-07,2.76368128e-08,7.77381711e-07,6.42956552e-08,5.63593748e-07,6.07497389e-08,1.63622718e-08,1.53984180e-07,3.65550718e-07
                                ,4.92269316e-07,1.66294384e-07,9.87761994e-07,1.14156533e-08,3.45849738e-07,9.16173471e-08,3.13940011e-07,7.37508284e-08,1.00311744e-07,1.65219096e-08,1.98029673e-07,1.23277423e-08
                                ,2.70701749e-08,4.19145062e-07,7.70876025e-07,3.05620968e-07,5.17657631e-08,3.60891187e-07,2.23003442e-07,1.41947055e-07,7.87910659e-08,1.70164446e-07,6.67663215e-08,1.30207733e-07
                                ,3.00408910e-08,1.74420216e-07,3.37699278e-08,3.79460227e-08,9.69381071e-08,1.85569739e-08,2.74766704e-08,4.45948696e-07,1.02702577e-07,9.32125081e-07,3.34126983e-08,9.21238149e-07
                                ,1.13781107e-07,5.30092840e-07,2.00601414e-07,2.49251323e-08,3.07694258e-07,5.21227049e-07,8.75882636e-07,6.65427137e-07,3.38936512e-07,1.13965274e-07,4.24919960e-08,8.76425196e-08
                                ,3.37301898e-07,2.12845584e-08,5.61271701e-07,2.36798303e-08,1.51504797e-07,7.17948085e-07,2.66740126e-07,1.37092347e-08,1.11638606e-08,1.28835062e-08,1.04199962e-07,2.04314095e-08
                                ,7.33165179e-07,4.56876049e-08,1.17621558e-08,5.22670134e-08,9.32498961e-07,3.30214644e-08,3.50183430e-08,2.22636948e-07,1.24240032e-08,3.10820531e-08,7.17553499e-07,5.01087424e-07
                                ,4.35410671e-07,4.74013430e-07,6.28047198e-07,1.19812520e-07,6.20001355e-08,1.78476056e-08,1.44711357e-07,3.69063419e-08,6.55786341e-07,8.41944558e-08,8.31763771e-07,9.77237221e-08
                                ,1.00000000e-07,1.90546072e-07,2.18776162e-07,1.07151931e-07,1.28824955e-07,1.69824365e-08,4.89778819e-07,7.07945784e-08,1.41253754e-08,6.30957344e-07,2.75422870e-07,6.16595002e-08
                                ,3.63078055e-08,2.34422882e-07,1.12201845e-07,5.12861384e-07,2.81838293e-07,1.04712855e-07,8.91250938e-07,1.38038426e-07,4.67735141e-07,1.99526231e-07,3.63078055e-08,4.67735141e-08
                                ,1.65958691e-07,1.94984460e-07,1.51356125e-08,1.90546072e-08,2.39883292e-07,4.36515832e-07,1.44543977e-07,1.25892541e-07,8.31763771e-07,1.73780083e-07,1.69824365e-07,9.12010839e-08
                                ,7.94328235e-07,1.07151931e-08,1.73780083e-08,7.76247117e-08,3.54813389e-08,4.36515832e-08,9.77237221e-07,6.45654229e-07,1.99526231e-08,1.54881662e-07,3.71535229e-07,1.81970086e-08])      # np.random.uniform(-8,-6,15)

          arr_rate = np.array([2224.15,2407.73,2252.46,2102.76,2308.73,2344.02,2107.88,2263.36,2123.11,2337.19,2483.76,2404.05,2100.19,2433.04,2193.77,
                                2196.53,2222.07,2475.41,2351.86,2338.32,2456.81,2144.79,2311.48,2458.27,2470.96,2147.46,2393.46,2330.02,2474.21,2136.15,
                                2104.42,2241.4,2276.14,2243.02,2171.32,2364.9,2314.05,2197.69,2350.63,2315.14,2240.77,2391.94,2165.57,2348.4,2326.44,2432.24,
                                2229.24,2473.88,2288.62,2109.76,2411.39,2252.2,2384.6,2315.51,2492,2174.53,2175.72,2293.86,2409.91,2358.06,2473.69,2373.5,
                                2194.93,2424.88,2405.96,2128.27,2235.16,2404.44,2452.92,2300.57,2235.62,2305.68,2255.48,2241.79,2440.75,2412.69,2457.57,2471.19,
                                2289.17,2422.43,2480.1,2110.18,2273.46,2152.5,2134.68,2203.78,2113.87,2365.37,2443.79,2409.12,2448.79,2161.92,2235.67,2394.8,
                                2426.43,2191.35,2291.48,2105.94,2149.5,2233.53,2420.08,2221.72,2437.81,2201.69,2475.12,2410.41,2395.98,2182.83,2352.17,2214.39,
                                2113.96,2422.93,2209.49,2445.14,2113.59,2250.08,2342.6,2410.62,2408.26,2112.45,2402.22,2456.31,2238.59,2494.49,2241.63,2250.81,
                                2324.2,2420.49,2311.9,2229.24,2189.73,2202.82,2141.76,2197.83,2187.22,2424.48,2430.4,2282.15,2113.07,2344.36,2399.72,2391.35,
                                2238.84,2468.25,2445.79,2126.47,2488.47,2224.95,2276.46,2219.28,2140.5,2150.1,2486.71,2309.49,2407.63,2145.83,2428.93,2246.79,
                                2319.17,2320.39,2259.04,2237.94,2375.35,2194.31,2354.65,2168.8,2216.33,2156.9,2484.63,2345.14,2192.75,2244.26,2468.98,2414.26,
                                2232.75,2262.71,2238.9,2204.72,2342.43,2286.4,2119.65,2225.44,2425.08,2379.83,2206.48,2182.94,2135.11,2161.19,2226.33,2119.41,
                                2107.09,2417.54,2265.14,2224.3,2458.43,2398.76,2279.49,2433.81,2206.57,2459.43,2447.51,2484.64,2468.06,2359.12,2100.75,2369.66,
                                2403.07,2270.56,2273.22,2216.56,2250.36,2419.72,2460.52,2217.34,2342.94,2460.32,2261.28,2454.03,2252.57,2486.66,2269.53,2223.7,
                                2444.08,2232.14,2309.69,2256.27,2422.37,2238.8,2325.85,2416.56,2135.86,2396.35,2405.39,2111.42,2130.39, 2410.72,2440.71,
                                2365.36,2111.55,2412.65,2395.05,2275.97,2329.79,2275,2482.45,2102.75,2427.32,2122.97,2413.1,2333.53,2476.96,2331.56,2187.08,
                                2174.48,2399.32,2425.76,2377.47,2173.39,2359.98,2344.19,2263.64,2105.29,2251.57,2437.12,2240.84,2130.98,2116.31,2324.42,2383.16,
                                2190.42,2325.99,2309.79,2380.02,2229.61,2241.75,2368.83,2109.3,2147.21,2180.21,2427.09,2114.88,2343.78,2454.78,2275.21,2118.23,
                                2399.34,2439.37,2401.45,2325.8,2445.9,2274.2,2122.4,2343.71,2342.3,2355.71,2249.81,2152.67,2211.78,2468.1,2319.37])                                                           # np.random.uniform(2100,2500,300)                                                                                                                                         

          bw = np.array([35.18,36.85,35.98,37.4,35.19,35.28,38.53,38.1,35.08,39.37,35.47,38.32,37.56,37.3,39.04,37.99,35.48,38.51,39.52,36.61,37.22,35.93,
                          39.72,36.47,38.06,35.65,38.93,37.04,37.57,39.16,35.22,37.22,36.71,36.9,36.15,35.66,36.88,36.82,37.59,37.87,37.76,39.03,39.77,38.02,
                          36.91,38.75,36.16,37.46,35.35,38.88,36.23,35.59,38.88,37.13,36.24,36.7,37.23,38.27,36.19,37.16,37.73,37.19,39.92,39.26,37.96,38.18,
                          38.88,36.25,37.7,36.46,37.53,39.27,37.3,36.52,39.58,37.36,37.69,35.47,36.77,35.7,36.63,39.01,37.28,37.33,39.42,35.41,38.09,36.83,
                          39.05,38.31,37.4,38.6,37.48,39.51,35.49,35.17,36.23,38.38,38.41,38.,36.33,39.54,38.06,35.55,35.8,35.58,35.95,38.53,38.09,35.9,36.55,
                          35.91,35.82,36.42,35.68,37.96,36.52,39.37,35.77,35.68,39.19,39.96,38.31,37.1,38.89,37.29,38.19,38.53,39.91,36.03,35.69,36.94,38.39,
                          35.62,35.76,35.07,36.66,39.6,35.32,39.79,37.12,39.79,38.55,37.89,38.65,36.5,36.32,37.69,39.25,39.77,35.96,38.63,36.95,38.38,37.6,39.88,
                          35.41,36.07,37.16,35.06,36.82,35.85,38.52,35.46,37.56,37.06,37.07,38.16,37.18,38.95,36.22,39.99,35.91,38.78,37.,38.04,37.22,37.36,36.59,
                          37.56,39.1,36.28,39.16,37.57,37.03,36.47,39.89,39.64,36.15,39.21,38.59,36.58,39.83,36.56,35.53,35.52,36.05,36.73,35.52,36.57,39.33,38.51,
                          36.72,36.59,35.4,36.83,35.26,38.69,39.17,37.15,35.36,39.47,38.34,36.95,38.52,37.44,37.81,37.63,37.17,35.49,39.39,35.64,39.27,35.5,37.61,
                          35.34,39.61,37.19,38.87,37.59,36.65,39.05,38.46,36.,37.92,35.84,35.53,37.1,38.82,39.35,39.03,37.97,38.76,35.82,35.03,36.97,35.03,39.76,
                          35.59,39.87,38.83,37.49,39.35,36.69,37.59,36.77,36.56,36.9,36.57,35.12,37.01,38.14,35.85,39.32,39.72,37.77,35.79,37.82,35.25,35.41,36.13,
                          35.04,39.43,39.98,35.48,39.55,36.66,36.01,36.87,37.94,39.23,37.73,35.35,36.49,37.63,38.73,35.32,38.82,38.12,37.61,35.77,37.75,36.74,38.5,37.99,36.,36.52,35.35,35.17,39.58])            # np.round(np.random.uniform(35,40,300),2) 
          
          exe_rate = np.array([1943.28,1976.27,1956.4,1994.29,1935.5,1910.47,1924.09,1993.59,1985.92,1905.79,1924.12,1928.19,1978.67,1904.48,1924.21,1988.12,1956.94,1940.19,
                                1922.8,1900.48,1976.41,1952.45,1909.03,1916.68,1913.93,1977.15,1903.16,1903.44,1917.54,1955.84,1967.83,1955.67,1983.54,1941.31,1944.67,1987.55,
                                1944.57,1918.89,1921.25,1971.33,1981.16,1958.84,1906.49,1904.57,1905.24,1982.95,1984.89,1963.2,1947.68,1984.2,1946.68,1970.63,1974.2,1918.23,
                                1924.24,1900.14,1929.09,1954.73,1951.65,1906.07,1959.32,1919.79,1972.16,1960.06,1907.32,1978.84,1950.13,1975.77,1909.4,1935.07,1992.34,1943.74,
                                1944.73,1903.43,1949.94,1907.93,1951.1,1931.62,1938.92,1983.83,1955.1,1957.6,1912.35,1943.65,1975.71,1978.35,1941.43,1987.36,1918.42,1928.98,
                                1977.89,1970.48,1981.73,1928.12,1946.49,1970.51,1966.37,1973.92,1970.92,1921.73,1913.72,1902.53,1957.65,1926.15,1937.97,1911.71,1910.75,1908.9,
                                1952.18,1995.24,1977.57,1928.17,1945.08,1914.94,1957.54,1953.24,1914.21,1991.34,1960.31,1935.,1960.2,1938.2,1918.15,1900.53,1925.61,1905.19,1904.38,
                                1990.26,1966.98,1968.16,1935.33,1928.17,1961.51,1997.31,1960.07,1991.97,1942.88,1936.39,1965.17,1940.48,1994.42,1951.03,1984.14,1937.75,1960.68,
                                1957.48,1978.78,1974.7,1936.37,1916.86,1947.91,1955.43,1970.71,1977.64,1949.23,1997.05,1921.72,1917.5,1935.36,1993.16,1982.16,1956.66,1973.38,1907.37,
                                1956.72,1900.02,1998.08,1922.24,1970.03,1947.32,1949.85,1943.82,1956.21,1946.95,1920.08,1994.18,1941.78,1957.78,1965.24,1917.09,1954.86,1977.05,1901.08,
                                1900.17,1937.84,1929.48,1955.54,1930.08,1984.37,1907.43,1983.4,1942.4,1985.41,1961.44,1958.27,1973.94,1900.04,1937.1,1960.04,1983.18,1978.68,1944.05,
                                1907.13,1910.89,1965.3,1978.33,1999.44,1970.48,1914.88,1987.86,1906.29,1984.87,1968.86,1998.75,1999.26,1925.52,1925.32,1998.63,1908.42,1945.61,1935.37,
                                1971.75,1950.19,1951.34,1984.41,1926.87,1971.99,1961.15,1900.49,1966.08,1982.03,1918.23,1950.88,1952.8,1915.96,1929.12,1993.07,1954.74,1935.64,1943.9,
                                1921.71,1906.29,1919.29,1975.63,1953.77,1938.68,1902.69,1980.89,1973.57,1903.47,1972.36,1951.68,1945.02,1988.62,1948.75,1959.51,1937.5,1920.4,1955.82,
                                1922.32,1990.85,1928.55,1926.09,1956.58,1984.37,1951.85,1974.95,1932.02,1984.54,1955.81,1962.67,1980.44,1944.18,1946.56,1975.6,1969.28,1991.6,1951.95,
                                1942.6,1988.97,1942.3,1975.32,1929.62,1977.92,1994.16,1994.36,1973.74,1942.39,1981.84,1974.55,1908.21,1955.82,1968.58,1932.41,1987.92,1967.05,1929.07,1933.1,1973.07,1985.2])      # np.round(np.random.uniform(1900,2000,300),2) 
            
          bw_ed = bw_e[i]*bw[i]
          snr_e = (trans_pow_e[i]/noise_pow_e[i])
          rate_edge = bw_e[i]*bw[i]*(math.log(snr_e))            
          edge_wait = abs(raw_data_edge[i]/(arr_rate[i]-exe_rate[i]))
          off_edge = (raw_data_edge[i] /rate_edge)
          off_e = off_e + off_edge
          res_edge = (raw_data_edge[i] /comp_cap_edge[i])
          trans_edge = (computed_data_edge[i] /rate_edge)
          trans_e = trans_e + trans_edge
          latency_edge = off_edge + res_edge + trans_edge + edge_wait
          tot_latency_edge = tot_latency_edge + latency_edge
          bw_edge = bw_edge + bw_ed
         
    l_total= tot_latency_loc + tot_latency_cloud +  tot_latency_edge
    bw_total =  bw_local + bw_cloud + bw_edge 
    off_total = off_cl + off_e
    trans_total = trans_cl + trans_e
          

    y = a*float(l_total*100)+b*float(bw_total/10)
    
    with open("defitness300.csv", "a") as fp:
      fp.write("{:10.2f}".format(y))
      fp.write("\n")
       
    return y 


def mutation(x, F): 
    return x[0] + F * (x[1] - x[2]) 

def check_bounds(mutated, bounds): 

  mutated_bond = [clip(mutated[i], bounds[i][0], bounds[i][1]) for i in range(len(bounds))] 
  # print('mutated_bond',mutated_bond)

  return mutated_bond 


def crossover(mutated, target, dims, cr): 

    p = rand(dims)   # generate a uniform random value for every dimension 
    trial = [mutated[i] if p[i] < cr else target[i] for i in range(dims)]   # generate trial vector by binomial crossover 
    return trial 

def differential_evolution(pop_size, bounds, iter, F, cr): 

    pop = [[random.uniform(0,1) for _ in range(tm)] for _ in range(pop_size)]

    obj_all = [obj(ind) for ind in pop]  

    best_vector = pop[argmin(obj_all)]  
    best_obj = min(obj_all) 
    prev_obj = best_obj 


    obj_iter = list() 


    for i in range(iter): 

        for j in range(pop_size): 

            candidates = [candidate for candidate in range(pop_size) if candidate != j] 
            a, b, c = np.array(pop)[choice(candidates, 3, replace=False)] 

            mutated = mutation([a, b, c], F)  # perform mutation
            
            mutated = check_bounds(mutated, bounds)  # check that lower and upper bounds are retained after mutation
            
            trial = crossover(mutated, pop[j], len(bounds), cr)   # perform crossover
            
            obj_target = obj(pop[j]) # evaluate fitness function value for target vector 
             
            obj_trial = obj(trial) # evaluate fitness function value for trial vector
            
            if obj_trial < obj_target:  # perform selection 
                pop[j] = trial
                obj_all[j] = obj_trial 
            
            best_obj= min(obj_all)  # find the best performing vector at each iteration


        if best_obj < prev_obj: 
            best_vector = pop[argmin(obj_all)] 
            prev_obj = best_obj

        # with open("mydeobj300.csv", "a") as fp:
        #     fp.write("{:10.2f}".format(best_obj))
        #     fp.write("\n")

        obj_iter.append(best_obj) 

        # print('Iteration: %d f([%s]) = %.5f' % (i, around(best_vector, decimals=5), best_obj)) 

    return [best_vector, best_obj, obj_iter] 

solution = differential_evolution(pop_size, bounds, iter, F, cr) 

print('\n Solution: f([%s]) = %.5f' % (around(solution[0], decimals=5), solution[1]))


# line plot of best fitness function values 
fig =plt.figure()  
plt.figure(dpi=2500) 
plt.plot(solution[2], '.-') 
fig.suptitle("Differential Evolution Algorithm")
plt.xlabel('Iteration')
plt.ylabel('Fitness Cost')
plt.savefig("deobj300.pdf", format="pdf", bbox_inches="tight")
plt.show() 
